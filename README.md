# VAIRO
Guiding structural model predictions with experimental information

-------------------

## Prerequisites
* AlphaFold2
* HH-suite
* CCP4 suite
* ALEPH
* MAXIT

-------------------

## Installation

In order to install VAIRO and its interface VAIROGUI, you need to run the installer script located in tools/install_vairo.sh. This script handles conda setup and installs all VAIRO dependencies within a dedicated environment.

Execute the installer script:
```
bash tools/install_vairo.sh
```

The script will:
1. Check for an existing conda installation and install it if missing.
2. Create and activate a conda environment for VAIRO.
3. Install all Python and system dependencies required by VAIRO.
4. Verify that system libraries like CUDA drivers or MAXIT are already present.

-------------------

## Usage

To run the command-line program:

```
vairo [-h] [-check] <config.yaml>
```

| Flag      | Description                                    |
|-----------|------------------------------------------------|
| `-h`      | Show help and exit                             |
| `-check`  | Validate configuration (*.yml*) file parsing   |    


To launch the graphical interface:
```
vairogui
```

-------------------

## Configuration File (YAML)

-------------------

## Output information

All information is located in the output_dir directory, which is specified as an input parameter in the configuration file. Inside output_dir, you will find the following folders and files:
- output.html: Contains the results in HTML format, including all plots, run statistics, and prediction analyses.
- output.log: The log file with detailed information from the execution.
- plots/: All plots generated by the output analysis.
- frobenius/: Plots generated by ALEPH.
- interfaces/: Results of the interface analysis performed by PISA.
- clustering/: (If clustering is enabled) Contains the results related to clustering jobs.
- input/: All input files used in the run.
- run/: Stores runtime information and outputs (see below for details).
- templates/: Templates extracted from the features.pkl, split by chains.
- rankeds/: Ranked models generated by AlphaFold2, split by chains.

Inside the run/ directory, you will find:
- results: Results of the AlphaFold2 run (see below for details).
- Templates folder: Subfolders named after each template, containing the databases generated to align each template.
- Sequences folder: Subfolders named after each sequence, containing alignments of the templates with the corresponding sequence.

Inside the run/results/ directory, you will find:
- tmp/: Contains intermediate files generated by external programs (e.g., Aleph).
- ccanalysis/ and ccanalysis_ranked/: PDB files used for the cc_analysis run.
- msas/: Information generated by AlphaFold2. It contains the extracted sequences and the template alignments.
- templates_nonsplit/: Templates extracted from features.pkl, not split by chains.
- rankeds_split/: Ranked models generated by AlphaFold2, split by chains.
- rankeds/: Ranked models generated by AlphaFold2, not split by chains.
